{
  "hash": "3575d057503343f5ba891c65eb6b4e1f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Import\"\nauthor: \"Your Name\"\ndate: today\nformat:\n  html:\n    code-fold: false\n    toc: true\n---\n\n# Introduction\n\nIn this document, I'll load the earthquake data from an Excel file.\n\n## Load Libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tidyverse' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'ggplot2' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tibble' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tidyr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'readr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'purrr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'dplyr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'stringr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'forcats' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'lubridate' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.1     ✔ stringr   1.6.0\n✔ ggplot2   4.0.0     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.2.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'readxl' was built under R version 4.5.2\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(knitr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'knitr' was built under R version 4.5.2\n```\n\n\n:::\n:::\n\n\n## Import the Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Read the Excel file\nearthquake_raw <- read_excel(\"../data/raw/earthquake_data.xlsx\")\n\n# Convert to data frame\nearthquake_raw <- as.data.frame(earthquake_raw)\n\n# Show what we got\ncat(\"=== Data Import Summary ===\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n=== Data Import Summary ===\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"Rows:\", nrow(earthquake_raw), \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 157015 \n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"Columns:\", ncol(earthquake_raw), \"\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nColumns: 20 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Show first row to understand structure\ncat(\"First row sample:\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nFirst row sample:\n```\n\n\n:::\n\n```{.r .cell-code}\nprint(earthquake_raw[1, ])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  YEAR MONTH DAY HOUR MINUTE SECOND LOCAL_TO_UTC UNPUB_OR_GROUPED_INT LATITUDE\n1 1852    11  27   NA     NA     NA            8                 <NA>     34.5\n  LONGITUDE MAGNITUDE EQ_DEPTH EPIDIST CITY_LAT CITY_LON MMI STATE\n1      -119        NA       NA     0.0     34.5     -119   7    CA\n             CITY SOURCE COUNTRY\n1 LOCKWOOD VALLEY      H     USA\n```\n\n\n:::\n:::\n\n\n## Check Data Structure\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Let's see what column names Excel gave us (if any)\ncat(\"Current column names:\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCurrent column names:\n```\n\n\n:::\n\n```{.r .cell-code}\nprint(names(earthquake_raw))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"YEAR\"                 \"MONTH\"                \"DAY\"                 \n [4] \"HOUR\"                 \"MINUTE\"               \"SECOND\"              \n [7] \"LOCAL_TO_UTC\"         \"UNPUB_OR_GROUPED_INT\" \"LATITUDE\"            \n[10] \"LONGITUDE\"            \"MAGNITUDE\"            \"EQ_DEPTH\"            \n[13] \"EPIDIST\"              \"CITY_LAT\"             \"CITY_LON\"            \n[16] \"MMI\"                  \"STATE\"                \"CITY\"                \n[19] \"SOURCE\"               \"COUNTRY\"             \n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"\\nData types:\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nData types:\n```\n\n\n:::\n\n```{.r .cell-code}\nstr(earthquake_raw)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t157015 obs. of  20 variables:\n $ YEAR                : num  1852 1852 1852 1852 1860 ...\n $ MONTH               : num  11 11 11 11 11 11 11 11 12 12 ...\n $ DAY                 : num  27 27 27 27 12 14 15 2 12 3 ...\n $ HOUR                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ MINUTE              : num  NA NA NA NA NA NA NA NA NA NA ...\n $ SECOND              : num  NA NA NA NA NA NA NA NA NA NA ...\n $ LOCAL_TO_UTC        : num  8 8 8 8 8 7 7 10 10 8 ...\n $ UNPUB_OR_GROUPED_INT: chr  NA NA NA NA ...\n $ LATITUDE            : num  34.5 34.5 34.5 34.5 41 42.9 38.8 60.5 NA 45.6 ...\n $ LONGITUDE           : num  -119 -119 -119 -119 -124 ...\n $ MAGNITUDE           : num  NA NA NA NA NA NA NA NA NA NA ...\n $ EQ_DEPTH            : num  NA NA NA NA NA NA NA NA NA NA ...\n $ EPIDIST             : chr  \"0.0\" \"258.0\" \"159.0\" NA ...\n $ CITY_LAT            : num  34.5 33 35.4 NA 40.8 ...\n $ CITY_LON            : num  -119 -117 -120 NA -124 ...\n $ MMI                 : num  7 6 6 6 8 7 7 6 7 5 ...\n $ STATE               : chr  \"CA\" \"CA\" \"CA\" \"CA\" ...\n $ CITY                : chr  \"LOCKWOOD VALLEY\" \"SAN DIEGO\" \"SAN LUIS OBISPO\" \"COLORADO RIVER\" ...\n $ SOURCE              : chr  \"H\" \"H\" \"H\" \"H\" ...\n $ COUNTRY             : chr  \"USA\" \"USA\" \"USA\" \"USA\" ...\n```\n\n\n:::\n:::\n\n\n## Assign Proper Column Names\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# We'll assign names based on how many columns we actually have\nnum_cols <- ncol(earthquake_raw)\n\nif (num_cols == 20) {\n  # Full 20-column format\n  colnames(earthquake_raw) <- c(\n    \"Year\", \"Month\", \"Day\", \"Hour\", \"Minute\", \"Second\",\n    \"Magnitude\", \"Empty1\", \n    \"Epicenter_Lat\", \"Epicenter_Lon\",\n    \"Empty2\", \"Empty3\", \n    \"Distance_km\", \"Station_Lat\", \"Station_Lon\", \n    \"Intensity\", \"State\", \"Location\", \"Quality\", \"Country\"\n  )\n  cat(\"✓ Assigned 20 column names\\n\")\n  \n} else if (num_cols == 2) {\n  # Maybe your data is in a different format\n  colnames(earthquake_raw) <- c(\"Column1\", \"Column2\")\n  cat(\"⚠ Only 2 columns found. Please check your Excel file format.\\n\")\n  \n} else {\n  # Any other number - use generic names\n  colnames(earthquake_raw) <- paste0(\"Column_\", 1:num_cols)\n  cat(\"⚠ Found\", num_cols, \"columns (expected 20)\\n\")\n  cat(\"Using generic column names for now.\\n\")\n}\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Assigned 20 column names\n```\n\n\n:::\n:::\n\n\n## Preview the Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Show first few rows\nhead(earthquake_raw, 5) %>% kable()\n```\n\n::: {.cell-output-display}\n\n\n| Year| Month| Day| Hour| Minute| Second| Magnitude|Empty1 | Epicenter_Lat| Epicenter_Lon| Empty2| Empty3|Distance_km | Station_Lat| Station_Lon| Intensity|State |Location        |Quality |Country |\n|----:|-----:|---:|----:|------:|------:|---------:|:------|-------------:|-------------:|------:|------:|:-----------|-----------:|-----------:|---------:|:-----|:---------------|:-------|:-------|\n| 1852|    11|  27|   NA|     NA|     NA|         8|NA     |          34.5|          -119|     NA|     NA|0.0         |       34.50|     -119.00|         7|CA    |LOCKWOOD VALLEY |H       |USA     |\n| 1852|    11|  27|   NA|     NA|     NA|         8|NA     |          34.5|          -119|     NA|     NA|258.0       |       33.02|     -116.84|         6|CA    |SAN DIEGO       |H       |USA     |\n| 1852|    11|  27|   NA|     NA|     NA|         8|NA     |          34.5|          -119|     NA|     NA|159.0       |       35.35|     -120.41|         6|CA    |SAN LUIS OBISPO |H       |USA     |\n| 1852|    11|  27|   NA|     NA|     NA|         8|NA     |          34.5|          -119|     NA|     NA|NA          |          NA|          NA|         6|CA    |COLORADO RIVER  |H       |USA     |\n| 1860|    11|  12|   NA|     NA|     NA|         8|NA     |          41.0|          -124|     NA|     NA|32.0        |       40.76|     -124.22|         8|CA    |HUMBOLDT BAY    |H       |USA     |\n\n\n:::\n:::\n\n\n## Basic Summary\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Summary of the data\nsummary(earthquake_raw)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      Year          Month             Day             Hour      \n Min.   :1638   Min.   : 1.000   Min.   : 1.00   Min.   : 0.00  \n 1st Qu.:1945   1st Qu.: 4.000   1st Qu.: 8.00   1st Qu.: 5.00  \n Median :1961   Median : 7.000   Median :16.00   Median :11.00  \n Mean   :1958   Mean   : 6.648   Mean   :15.66   Mean   :11.13  \n 3rd Qu.:1975   3rd Qu.:10.000   3rd Qu.:23.00   3rd Qu.:17.00  \n Max.   :1985   Max.   :12.000   Max.   :31.00   Max.   :23.00  \n                NA's   :16       NA's   :37      NA's   :753    \n     Minute          Second        Magnitude        Empty1         \n Min.   : 0.00   Min.   : 0.00   Min.   : 4.00   Length:157015     \n 1st Qu.:14.00   1st Qu.:14.00   1st Qu.: 7.00   Class :character  \n Median :30.00   Median :29.00   Median : 8.00   Mode  :character  \n Mean   :29.03   Mean   :28.99   Mean   : 7.43                     \n 3rd Qu.:44.00   3rd Qu.:43.30   3rd Qu.: 8.00                     \n Max.   :59.00   Max.   :59.90   Max.   :11.00                     \n NA's   :883     NA's   :32946   NA's   :6466                      \n Epicenter_Lat   Epicenter_Lon        Empty2          Empty3      \n Min.   : 4.60   Min.   :-180.0   Min.   :0.500   Min.   :  1.00  \n 1st Qu.:35.00   1st Qu.:-121.8   1st Qu.:4.300   1st Qu.:  6.00  \n Median :37.84   Median :-118.4   Median :5.000   Median : 10.00  \n Mean   :38.74   Mean   :-112.2   Mean   :5.023   Mean   : 14.51  \n 3rd Qu.:42.02   3rd Qu.:-104.8   3rd Qu.:5.800   3rd Qu.: 16.00  \n Max.   :68.41   Max.   : 179.9   Max.   :8.700   Max.   :519.00  \n NA's   :14932   NA's   :14932    NA's   :46831   NA's   :99609   \n Distance_km         Station_Lat     Station_Lon       Intensity     \n Length:157015      Min.   : 6.30   Min.   :-176.8   Min.   : 1.000  \n Class :character   1st Qu.:34.94   1st Qu.:-121.9   1st Qu.: 3.000  \n Mode  :character   Median :37.92   Median :-118.2   Median : 4.000  \n                    Mean   :38.89   Mean   :-112.6   Mean   : 3.821  \n                    3rd Qu.:42.33   3rd Qu.:-105.5   3rd Qu.: 4.000  \n                    Max.   :71.30   Max.   : 179.2   Max.   :12.000  \n                    NA's   :1560    NA's   :1560     NA's   :26287   \n    State             Location           Quality            Country         \n Length:157015      Length:157015      Length:157015      Length:157015     \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n```\n\n\n:::\n:::\n\n\n## Save the Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create folder if needed\ndir.create(\"../data/processed\", showWarnings = FALSE, recursive = TRUE)\n\n# Save for next steps\nsaveRDS(earthquake_raw, \"../data/processed/earthquake_raw.rds\")\ncat(\"✓ Data saved!\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Data saved!\n```\n\n\n:::\n:::\n\n\n## Important Note\n\n::: {.callout-warning}\nIf you see warnings about unexpected column counts, your Excel file might not be formatted correctly. \n\nPlease check:\n1. Does your Excel have data in all 20 columns?\n2. Is each value in a separate cell?\n3. Are there any merged cells?\n:::\n\n---\n\n**Next:** Go to [Data Cleaning](02-data-cleaning.qmd) →",
    "supporting": [
      "01-data-import_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}