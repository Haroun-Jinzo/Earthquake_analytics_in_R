{
  "hash": "3ca9888f91d4c07b409e7b3060f27542",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Exploratory Data Analysis\"\nauthor: \"Your Name\"\ndate: today\nformat:\n  html:\n    code-fold: false\n    toc: true\n    theme: cosmo\n---\n\n# Introduction\n\nExploratory Data Analysis (EDA) is the crucial first step in understanding our earthquake dataset. Through visualizations and summary statistics, we'll uncover patterns, identify anomalies, and gain insights into the characteristics of the 1948 California-Nevada seismic event.\n\n::: {.callout-note}\n## Analysis Goals\nIn this section, we will:\n\n- Examine the distribution of earthquake magnitudes\n- Analyze geographic patterns of epicenters and recording stations\n- Investigate how distance affects observations\n- Explore intensity measurements across different locations\n- Identify temporal patterns in the seismic activity\n:::\n\n## Load Libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)  # Data manipulation and visualization\nlibrary(knitr)      # Table formatting\n```\n:::\n\n\n## Load Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nearthquake <- readRDS(\"../data/processed/earthquake_clean.rds\")\ncat(\"✓ Successfully loaded\", nrow(earthquake), \"earthquake observations\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Successfully loaded 142083 earthquake observations\n```\n\n\n:::\n\n```{.r .cell-code}\n# Prepare top states for consistent filtering\ntop_10_states <- earthquake %>%\n  count(State, sort = TRUE) %>%\n  head(10) %>%\n  pull(State)\n\ncat(\"✓ Identified top 10 states for focused analysis\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Identified top 10 states for focused analysis\n```\n\n\n:::\n:::\n\n\n---\n\n# Magnitude Analysis\n\nUnderstanding earthquake magnitude is fundamental to assessing the event's severity and impact. Magnitude represents the energy released at the earthquake's source and is measured on the Richter scale.\n\n## Distribution of Magnitudes\n\nThe histogram below shows how earthquake magnitudes are distributed across our dataset. This helps us understand whether we're dealing with a single major event or multiple earthquakes of varying sizes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(earthquake, aes(x = Magnitude)) +\n  geom_histogram(binwidth = 0.5, fill = \"steelblue\", color = \"black\", alpha = 0.8) +\n  geom_vline(aes(xintercept = mean(Magnitude, na.rm = TRUE)), \n             color = \"red\", linetype = \"dashed\", size = 1) +\n  annotate(\"text\", x = mean(earthquake$Magnitude, na.rm = TRUE) + 0.3, \n           y = max(table(cut(earthquake$Magnitude, breaks = seq(0, 10, 0.5)))) * 0.9,\n           label = paste(\"Mean =\", round(mean(earthquake$Magnitude, na.rm = TRUE), 2)),\n           color = \"red\", size = 4) +\n  labs(\n    title = \"Distribution of Earthquake Magnitudes\",\n    subtitle = \"Concentration around magnitude 8 suggests a single major event\",\n    x = \"Magnitude (Richter Scale)\",\n    y = \"Frequency (Number of Observations)\",\n    caption = \"Red dashed line indicates mean magnitude\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    plot.subtitle = element_text(size = 11, color = \"gray40\")\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 6463 rows containing non-finite outside the scale range\n(`stat_bin()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Distribution shows concentration around magnitude 8, indicating a primary seismic event](03-exploratory_files/figure-html/fig-magnitude-hist-1.png){#fig-magnitude-hist width=960}\n:::\n:::\n\n\n::: {.callout-tip}\n## Key Observation\nThe tight clustering around magnitude 8 indicates this dataset primarily captures **one major seismic event** recorded at multiple stations, rather than several distinct earthquakes.\n:::\n\n---\n\n# Geographic Analysis\n\nGeographic analysis reveals where the earthquake originated and how the seismic network captured the event across the region.\n\n## Epicenter Location\n\nThe epicenter is the point on Earth's surface directly above where the earthquake originates. Understanding its location helps contextualize the event within known fault systems.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(earthquake, aes(x = Epicenter_Lon, y = Epicenter_Lat)) +\n  geom_point(aes(size = Magnitude, color = Magnitude), alpha = 0.6) +\n  scale_color_gradient(low = \"yellow\", high = \"red\", name = \"Magnitude\") +\n  scale_size_continuous(range = c(3, 10), name = \"Magnitude\") +\n  labs(\n    title = \"Earthquake Epicenter Locations\",\n    subtitle = \"Size and color intensity represent magnitude | Concentration indicates epicenter\",\n    x = \"Longitude (degrees West)\",\n    y = \"Latitude (degrees North)\",\n    caption = \"Lake Tahoe region: 39.5°N, -120°W\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    legend.position = \"right\"\n  ) +\n  annotate(\"text\", x = -120.08, y = 39.55, \n           label = \"← Epicenter\", hjust = -0.1, size = 4, color = \"darkred\", fontface = \"bold\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 6463 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Epicenter concentrated near Lake Tahoe region along California-Nevada border](03-exploratory_files/figure-html/fig-epicenter-1.png){#fig-epicenter width=960}\n:::\n:::\n\n\n::: {.callout-important}\n## Geographic Context\nThe epicenter at **39.5°N, -120°W** places this earthquake near **Lake Tahoe**, a region where the Sierra Nevada meets the Basin and Range Province. This area is known for:\n\n- Complex tectonic interactions\n- Historical seismic activity\n- Multiple fault systems including the Walker Lane\n:::\n\n## Recording Station Network\n\nThese are the locations that detected and measured the earthquake. A well-distributed network provides more accurate information about the event.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nearthquake %>%\n  count(Location, State) %>%\n  arrange(desc(n)) %>%\n  head(15) %>%\n  ggplot(aes(x = reorder(Location, n), y = n, fill = State)) +\n  geom_col(alpha = 0.8) +\n  geom_text(aes(label = n), hjust = -0.2, size = 3.5) +\n  labs(\n    title = \"Top 15 Recording Stations\",\n    subtitle = \"Stations ordered by number of observations recorded\",\n    x = \"Recording Location\",\n    y = \"Number of Observations\",\n    fill = \"State\",\n    caption = \"Stations closest to epicenter typically record more observations\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    legend.position = \"bottom\"\n  ) +\n  coord_flip() +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.1)))\n```\n\n::: {.cell-output-display}\n![Most active recording stations clustered near epicenter](03-exploratory_files/figure-html/fig-top-locations-1.png){#fig-top-locations width=960}\n:::\n:::\n\n\n---\n\n## Distance Categories\n\nWe've categorized distances into meaningful groups to analyze patterns more clearly.\n\n\n::: {#tbl-distance-cat .cell tbl-cap='Distribution of observations by distance from epicenter'}\n\n```{.r .cell-code}\nearthquake %>%\n  count(Distance_Category) %>%\n  mutate(Percentage = round(n / sum(n) * 100, 1)) %>%\n  arrange(Distance_Category) %>%\n  kable(col.names = c(\"Distance Category\", \"Count\", \"Percentage (%)\"),\n        align = c(\"l\", \"r\", \"r\"))\n```\n\n::: {.cell-output-display}\n\n\n|Distance Category | Count| Percentage (%)|\n|:-----------------|-----:|--------------:|\n|Far               | 21107|           14.9|\n|Medium            | 30868|           21.7|\n|Near              | 44406|           31.3|\n|Very Far          | 45702|           32.2|\n\n\n:::\n:::\n\n\n**Insight:** The majority of observations come from stations within 100 km, where shaking is most intense and easiest to detect.\n\n---\n\n# Intensity Analysis\n\nIntensity measures the **strength of shaking** felt at different locations, which decreases with distance from the epicenter.\n\n::: {.callout-note}\n## Understanding Intensity\nUnlike magnitude (which is constant for the earthquake), **intensity varies by location**:\n\n- Magnitude = Energy released at source (one value)\n- Intensity = Shaking experienced at each station (many values)\n:::\n\n## Intensity Distribution\n\n\n::: {.cell}\n\n```{.r .cell-code}\nearthquake %>%\n  filter(!is.na(Intensity)) %>%\n  ggplot(aes(x = factor(Intensity), fill = factor(Intensity))) +\n  geom_bar(color = \"black\", alpha = 0.8) +\n  geom_text(stat = \"count\", aes(label = after_stat(count)), vjust = -0.5, size = 4) +\n  scale_fill_brewer(palette = \"YlOrRd\", name = \"Intensity\\nLevel\") +\n  labs(\n    title = \"Earthquake Intensity Distribution Across Recording Stations\",\n    subtitle = \"Higher values indicate stronger shaking experienced at that location\",\n    x = \"Intensity Level (Modified Mercalli Scale)\",\n    y = \"Number of Observations\",\n    caption = \"Intensity varies by distance, local geology, and recording conditions\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    legend.position = \"right\"\n  ) +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.1)))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in RColorBrewer::brewer.pal(n, pal): n too large, allowed maximum for palette YlOrRd is 9\nReturning the palette you asked for with that many colors\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Intensity ranges from 3-8, showing variation across recording network](03-exploratory_files/figure-html/fig-intensity-1.png){#fig-intensity width=960}\n:::\n:::\n\n\n**Pattern:** The distribution shows that most stations experienced moderate to strong shaking (intensity 5-7), with a few recording very strong shaking (intensity 8) near the epicenter.\n\n---\n\n# Temporal Analysis\n\nTime analysis reveals when the earthquake occurred and whether there was aftershock activity.\n\n## Activity Timeline\n\n\n::: {.cell}\n\n```{.r .cell-code}\nearthquake %>%\n  count(DateTime) %>%\n  ggplot(aes(x = DateTime, y = n)) +\n  geom_line(color = \"darkred\", linewidth = 1.2) +\n  geom_point(color = \"darkred\", size = 3, alpha = 0.7) +\n  geom_area(alpha = 0.2, fill = \"darkred\") +\n  labs(\n    title = \"Earthquake Activity Over Time\",\n    subtitle = \"Each point represents recorded observations at a specific time\",\n    x = \"Date and Time (December 1948)\",\n    y = \"Number of Observations Recorded\",\n    caption = \"Peak activity indicates main shock, followed by aftershocks\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  ) +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.1)))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 1 row containing non-finite outside the scale range\n(`stat_align()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_line()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Concentrated activity on December 28-29, 1948 suggests main shock and aftershock sequence](03-exploratory_files/figure-html/fig-timeline-1.png){#fig-timeline width=1152}\n:::\n:::\n\n\n::: {.callout-tip}\n## Temporal Pattern\nThe concentration of activity over **2 days** (December 28-29, 1948) is typical of:\n\n1. **Main shock** - The primary earthquake event\n2. **Aftershock sequence** - Smaller earthquakes following the main event as the crust readjusts\n\nThis pattern is consistent with normal earthquake behavior.\n:::\n\n---\n\n# Summary of Key Findings\n\nBased on our exploratory analysis, we can conclude:\n\n## Magnitude Characteristics\n- **Consistent magnitude ~8**: All stations recorded the same earthquake\n- **Single major event**: Not multiple earthquakes of different sizes\n- **No state-to-state variation**: Confirms data integrity\n\n## Geographic Patterns\n- **Epicenter location**: 39.5°N, -120°W (Lake Tahoe region)\n- **Recording network**: Extends 300+ km from epicenter\n- **Station distribution**: Good coverage across CA and NV\n\n## Distance and Intensity\n- **Most observations**: Within 100 km of epicenter\n- **Intensity range**: 3-8 on Modified Mercalli Scale\n- **Expected pattern**: Strong shaking near epicenter, weakening with distance\n\n## Temporal Characteristics\n- **Duration**: December 28-29, 1948 (2 days)\n- **Pattern**: Main shock with aftershock sequence\n- **Historical significance**: Major seismic event in late 1940s\n\n---\n\n::: {.callout-important}\n## Next Steps\nWith a solid understanding of the data distribution and patterns, we can now proceed to:\n\n→ **[Correlation Analysis](04-correlations.qmd)** - Examine relationships between variables statistically\n:::\n\n---\n\n**Analysis Date:** January 04, 2026",
    "supporting": [
      "03-exploratory_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}